<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Child of Nasdaq - MT5 Trading</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #1a2b48;
            color: white;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            padding: 10px;
        }
        .container {
            margin: 0 auto;
            padding: 20px;
            max-width: 600px;
        }
        h1, h2 {
            text-align: center;
            margin-bottom: 10px;
        }
        .form-group input {
            width: 100%;
            padding: 10px;
            margin: 5px 0;
            font-size: 16px;
            border-radius: 5px;
            border: none;
        }
        .btn-connect {
            background-color: #007bff;
            color: white;
            padding: 15px;
            font-size: 18px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            width: 100%;
        }
        .log-section ul {
            list-style-type: none;
            padding: 0;
            max-height: 300px;
            overflow-y: auto;
        }
        .log-section ul li {
            font-family: monospace;
            color: #00ff00;
        }
        .log-section {
            margin-top: 20px;
        }
        .nav-bar {
            display: flex;
            justify-content: space-around;
            background-color: #1c2e4a;
            padding: 10px 0;
            position: fixed;
            bottom: 0;
            width: 100%;
        }
        .nav-bar button {
            background: none;
            border: none;
            color: white;
            cursor: pointer;
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <!-- Authentication Screen -->
    <div class="container" id="authScreen">
        <h2>Authentication</h2>
        <form id="authForm" onsubmit="authenticateUser(event)">
            <div class="form-group">
                <input type="text" id="mentorId" placeholder="Mentor ID" required>
            </div>
            <div class="form-group">
                <input type="email" id="email" placeholder="Email" required>
            </div>
            <div class="form-group">
                <input type="text" id="licenseKey" placeholder="License Key" required>
            </div>
            <button type="submit" class="btn-connect">Authenticate</button>
        </form>
    </div>

    <!-- Home Screen (Main Dashboard) -->
    <div class="container hidden" id="homeScreen">
        <h2>Bot Logs</h2>
        <div class="log-section">
            <ul id="logList"></ul>
        </div>
        <button class="btn-connect" id="startTradeBtn" onclick="toggleTrading()">Start Trading</button>
    </div>

    <!-- Connect Screen (MT5 & Deriv API) -->
    <div class="container hidden" id="connectScreen">
        <h2>Connect MT5 & Deriv</h2>
        <form id="connectForm" onsubmit="connectAccounts(event)">
            <div class="form-group">
                <input type="text" id="mt5Login" placeholder="MT5 Login ID" required>
            </div>
            <div class="form-group">
                <input type="password" id="mt5Password" placeholder="MT5 Password" required>
            </div>
            <div class="form-group">
                <input type="text" id="apiToken" placeholder="Deriv API Token" required>
            </div>
            <button type="submit" class="btn-connect">Connect</button>
        </form>
    </div>

    <!-- Profile Screen (User Profile) -->
    <div class="container hidden" id="profileScreen">
        <h2>Your Profile</h2>
        <div class="form-group">
            <label for="profileName">Name:</label>
            <input type="text" id="profileName" placeholder="Enter your name" required>
        </div>
        <div class="form-group">
            <label for="phoneNumber">Phone Number:</label>
            <input type="text" id="phoneNumber" placeholder="Enter phone number" required>
        </div>
        <div class="form-group">
            <label for="password">Password:</label>
            <input type="password" id="password" placeholder="Enter new password" required>
        </div>
        <button type="button" class="btn-connect" onclick="saveProfile()">Save Profile</button>
    </div>

    <!-- Navigation Bar -->
    <div class="nav-bar">
        <button onclick="navigateTo('authScreen')">Login</button>
        <button onclick="navigateTo('homeScreen')">Home</button>
        <button onclick="navigateTo('connectScreen')">Connect</button>
        <button onclick="navigateTo('profileScreen')">Profile</button>
    </div>

    <script>
        let isTrading = false;
        let tradeInterval;

        // Handle Authentication
        function authenticateUser(event) {
            event.preventDefault();
            const mentorId = document.getElementById('mentorId').value;
            const email = document.getElementById('email').value;
            const licenseKey = document.getElementById('licenseKey').value;

            if (mentorId === '5880' && email === 'childofnasdaqservices@gmail.com' && licenseKey === '12qw-34er-56ty-78ui') {
                navigateTo('homeScreen');
            } else {
                alert('Invalid credentials');
            }
        }

        // Navigate between screens
        function navigateTo(screen) {
            document.querySelectorAll('.container').forEach(el => el.classList.add('hidden'));
            document.getElementById(screen).classList.remove('hidden');
        }

        // Toggle Trading Status
        function toggleTrading() {
            isTrading = !isTrading;
            const buttonText = isTrading ? 'Stop Trading' : 'Start Trading';
            document.getElementById('startTradeBtn').innerHTML = buttonText;
            if (isTrading) {
                startTrading();
            } else {
                stopTrading();
            }
        }

        // Start Trading (Open Multiple Positions)
        function startTrading() {
            updateLog('Trading started...');
            openPositions();  // Open initial positions
            tradeInterval = setInterval(openPositions, 300000); // Every 5 minutes
        }

        // Stop Trading
        function stopTrading() {
            clearInterval(tradeInterval);  // Stop opening new positions
            updateLog('Trading stopped...');
        }

        // Open Multiple Positions
        function openPositions() {
            const symbols = ['XAUUSD', 'EURUSD', 'GBPUSD', 'USDJPY', 'AUDUSD']; // List of symbols to trade
            symbols.forEach(symbol => {
                const tradeSize = 0.1; // Example trade size
                const tp = 50; // Take Profit
                const sl = 30; // Stop Loss
                // Execute the trade (mock)
                updateLog(`Opened position on ${symbol} with TP: ${tp} and SL: ${sl}`);
            });
        }

        // Update Logs
        function updateLog(message) {
            const logList = document.getElementById('logList');
            const logItem = document.createElement('li');
            logItem.textContent = message;
            logList.appendChild(logItem);
        }

        // Connect MT5 & Deriv API
        function connectAccounts(event) {
            event.preventDefault();

            const mt5Login = document.getElementById('mt5Login').value;
            const mt5Password = document.getElementById('mt5Password').value;
            const apiToken = document.getElementById('apiToken').value;

            // Example API Call to Deriv
            fetch('https://api.deriv.com/v1/market', {
                method: 'GET',
                headers: {
                    'Authorization': `Bearer ${apiToken}`,
                }
            })
            .then(response => response.json())
            .then(data => {
                if (data.status === 'success') {
                    updateLog('Connected to Deriv');
                } else {
                    updateLog('Failed to connect to Deriv');
                }
            });
        }

        // Save Profile
        function saveProfile() {
            alert('Profile saved!');
        }
    </script>
</body>
</html>
